<Window x:Class="SecretStore.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="SecretStore"
        WindowState="Maximized"

        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="CanResize"
        Background="#1E1E1E">

    <WindowChrome.WindowChrome>
        <shell:WindowChrome 
            CaptionHeight="0"
            CornerRadius="0"
            GlassFrameThickness="0"
            ResizeBorderThickness="5"
            UseAeroCaptionButtons="True"/>
    </WindowChrome.WindowChrome>

    <Grid Background="{StaticResource PanelBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Верхняя панель: заголовок + поиск + кнопки управления -->
        <Grid Grid.Row="0" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Заголовок -->
            <TextBlock Grid.Column="0" 
                       Text="🔒 Secret Store"
                       FontSize="20"
                       FontWeight="Bold"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource AccentBrush}"
                       Margin="6,0,0,0"/>

            <!-- Поиск -->
            <StackPanel Grid.Column="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        VerticalAlignment="Center"
                        Margin="10,0,10,0">
                <TextBlock  
                           VerticalAlignment="Center" 
                           Foreground="{StaticResource TextDimBrush}" 
                           Margin="0,0,8,0"/>
                <Button x:Name="SearchButton" Content="Найти" Width="80" Height="28" Click="SearchButton_Click"/>
                <TextBox x:Name="SearchBox" 
                         Width="260" 
                         VerticalAlignment="Center"/>

            </StackPanel>

            <!-- Кнопки управления окном -->
            <StackPanel Grid.Column="3" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                <Button Content="—" 
                        Width="40" 
                        Height="30" 
                        Click="Minimize_Click"/>
                <Button Content="☐" 
                        Width="40" 
                        Height="30" 
                        Click="Maximize_Click"/>
                <Button Content="✕" 
                        Width="40" 
                        Height="30" 
                        Click="Close_Click"/>
            </StackPanel>
        </Grid>

        <!-- DataGrid со списком секретов -->
        <DataGrid x:Name="SecretsList"
          Grid.Row="1"
          AutoGenerateColumns="False"
          CanUserAddRows="False"
          CanUserDeleteRows="False"
          IsReadOnly="True"
          SelectionMode="Single"
          Margin="0,0,0,12"
          FontFamily="Consolas"
          FontSize="13">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="2*" />
                <DataGridTextColumn Header="Логин" Binding="{Binding Username}" Width="2*" />
                <DataGridTextColumn Header="Дата добавления" Binding="{Binding CreatedAt}" Width="2*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Кнопки управления (только Показать данные, Добавить и Выход) -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="ShowSecretsBtn" Content="Показать данные" Width="120" Margin="4" Click="ShowButton_Click"/>
            <Button x:Name="CopyButton" Content="Копировать" Width="120" Margin="4" Click="CopyButton_Click"/>
            <Button x:Name="AddBtn" Content="Добавить" Width="120" Margin="4" Click="AddButton_Click"/>
        </StackPanel>

        <!-- 🖥 Подключение к Postgres -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" >
            <TextBlock x:Name="DbStatusText" VerticalAlignment="Center" FontWeight="Bold" FontFamily="Consolas" Foreground="Yellow"/>
        </StackPanel>
    </Grid>
</Window>